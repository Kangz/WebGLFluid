<html>
    <head>
        <title>Unnamed</title>
        <meta http-equiv="Content-Type" content="text/html; charset=utf-8">

        <script type="text/javascript" src="external/gl-matrix-min.js"></script>
        <script type="text/javascript" src="lib/glUtils.js"></script>

        <script id="shader-fs" type="x-shader/x-fragment">
            precision highp float;
            void main() {
                gl_FragColor = vec4(1.0, 0.2, 0.2, 1.0);
            }
        </script>
        <script id="shader-vs" type="x-shader/x-vertex">
            attribute vec2 aPosition;
      
            void main(void){
                gl_Position = vec4(aPosition * 0.9, 0.0, 1.0);
            }
        </script>

        <script type="text/javascript">
            var glExtras = {
                makeFloatComputeTexture: function(gl, components, width, height, options) {
                    options["format"] = ["luminance", "luminanceAlpha", "rgb", "rgba"][components];
                    options["type"] = "float";

                    return gl.createEmptyTexture(width, height, options);
                },
            };
        </script>

        <script type="text/javascript">
            "use strict";
            function start() {
                var gl = glUtils.initGL(document.getElementById("canvas"), {
                    extensions: ["ANGLE_instanced_arrays", "OES_texture_float", "OES_texture_float_linear"],
                });
                gl.viewport(0, 0, 800, 600);

                gl.clearColor(1.0, 0.0, 0.0, 1.0);
                gl.clear(gl.COLOR_BUFFER_BIT);

                var program = gl.createShaderProgram(
                    gl.createShaderFromId("shader-vs"),
                    gl.createShaderFromId("shader-fs")
                );

                var vertices = gl.createArrayBuffer(gl.STATIC_DRAW, [
                    -1.0, -1.0,
                     1.0, -1.0,
                    -1.0,  1.0,
                     1.0,  1.0,
                ]);

                var vao = program.createVAO({
                    aPosition: {buffer: vertices},
                });

                program.use();

                vao.drawArrays(gl.TRIANGLE_STRIP, 0, 4);
            }
        </script>
    </head>

    <body onload="start();">
        <canvas id="canvas" width="800" height="600">
            Your browser doesn't appear to support the HTML5 <code>&lt;canvas&gt;</code> element.
        </canvas>
    </body>
</html>
